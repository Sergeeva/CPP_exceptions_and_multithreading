# –ß–∞—Å—Ç—å 3: –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –æ—Ç–ª–∞–¥–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GDB

### üéØ –¶–µ–ª–∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞

- **–û—Å–≤–æ–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –æ—Ç–ª–∞–¥–∫–∏ C++** –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Ç–ª–∞–¥–∫–æ–π C
- **–ò–∑—É—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π** –∏ stack unwinding –º–µ—Ö–∞–Ω–∏–∑–º–∞
- **–û–≤–ª–∞–¥–µ—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –æ—Ç–ª–∞–¥–∫–æ–π** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ C++
<!-- - **–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏** —Ä–µ—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º -->

---

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–±–æ—Ç–µ
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é GDB
$ gdb --version
GNU gdb (GDB) 10.2 # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 8+

# –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –≤–µ—Ç–∫—É —á–∞—Å—Ç–∏ 3
$ git checkout part3_debugging
$ git branch # —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –Ω—É–∂–Ω–æ–π –≤–µ—Ç–∫–µ
             # –≤ –∫–∞—Ç–∞–ª–æ–≥–µ src –ø–æ—è–≤—è—Ç—Å—è —Ñ–∞–π–ª—ã task3_<1..4>.cpp            

# –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
$ mkdir build
$ cd build
$ cmake -DCMAKE_BUILD_TYPE=Debug ..
$ make -j4
# (–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–±–æ—Ä–∫—É –≤ IDE)
```

#### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø—Ä–æ —Ä–µ–∂–∏–º—ã —Å–±–æ—Ä–∫–∏

- **Debug** 

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏. –í–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (`-g`), –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (`-O0`). –†–∞–∑–º–µ—Ä –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ –±–æ–ª—å—à–æ–π, —Å–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω–∞—è, –Ω–æ –ª–µ–≥–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–ª–∞–¥—á–∏–∫ (GDB).

```bash
cmake -DCMAKE_BUILD_TYPE=Debug ..
```

- **Release**

–î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π —Å–±–æ—Ä–∫–∏. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (`-O2`/`-O3`), –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —É–¥–∞–ª–µ–Ω—ã. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, —Å–ª–æ–∂–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞.

```bash
cmake -DCMAKE_BUILD_TYPE=Release ..
```

- **RelWithDebInfo**

–ö–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É **Release** –∏ **Debug**. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (`-O2`) —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (`-g`). –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å production-–≤–µ—Ä—Å–∏–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

```bash
cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
```

- **MinSizeRel**

–î–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä (`-Os`), –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —É–¥–∞–ª–µ–Ω—ã. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏.

```bash
cmake -DCMAKE_BUILD_TYPE=MinSizeRel ..
```

##### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Debug`
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Release`
- **–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ production-–ø—Ä–æ–±–ª–µ–º:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `RelWithDebInfo`
- **–î–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MinSizeRel`
- **–í–∞–∂–Ω–æ:** –ø–µ—Ä–µ–¥ —Å–º–µ–Ω–æ–π —Ä–µ–∂–∏–º–∞ —É–¥–∞–ª–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `build` –∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç



<!-- #### **–ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –æ—Ç–ª–∏—á–∏–π C++ –æ—Ç C –≤ –æ—Ç–ª–∞–¥–∫–µ**
- **STL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:** `print vector.size()` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ GDB
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è:** —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã `catch throw/catch`
- **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å:** `std::thread` –≤–º–µ—Å—Ç–æ `pthread_t`
- **RAII –æ–±—ä–µ–∫—Ç—ã:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã -->

---

### 3.1 –û—Ç–ª–∞–¥–∫–∞ STL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –±–∞–∑–æ–≤—ã—Ö –æ—à–∏–±–æ–∫

#### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: 
–æ—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–∫–∏ –≤—ã—Ö–æ–¥–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞. 
–ö–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ``task3_1.cpp``

**–®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –ø–æ–¥ gdb**
```bash
$ gdb ./task1
(gdb) run

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
i       Vec[i]  Arr[i]
[0]     11      11
[1]     22      22
[2]     33      33
[3]     44      44
[4]     55      55
[5]     0       32766 # –ú—É—Å–æ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ segfault
```

```
–ú—ã –≤–∏–¥–∏–º "–º—É—Å–æ—Ä" –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö STL-–≤–µ–∫—Ç–æ—Ä–∞ –∏ –º–∞—Å—Å–∏–≤–∞. –ù–æ –≤ C++ std::vector –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ GDB –º–æ–∂–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤–µ–∫—Ç–æ—Ä–µ.
```

**–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
# —Å—Ç–∞–≤–∏–º —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞ (breakpoint) –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã
(gdb) break task3_1.cpp:24
# –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ breakpoints –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å
(gdb) info breakpoints
# —É–¥–∞–ª–∏—Ç—å —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞
# (gdb) delete <N>/all
# –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞
# (gdb) disable <N>/all

### –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ###
(gdb) run
# –æ–∂–∏–¥–∞–µ–º —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥
i       Vec[i]  Arr[i]
[0]     11      11
[1]     22      22
[2]     33      33
[3]     44      44
[4]     55      55
[5]     0       32767
Breakpoint 1, main () at task3_1.cpp:24
24          return 0;

# –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤
# –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Ç–æ—á–∫–µ –æ—Å—Ç–∞–Ω–æ–≤–∞)
(gdb) bt
#0  main () at task3_1.cpp:24

### –≤—ã–≤–µ–¥–µ–º –≤–µ–∫—Ç–æ—Ä –∏ –º–∞—Å—Å–∏–≤ ###
(gdb) print numbers_vector
# –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
$5 = std::vector of length 5, capacity 5 = {11, 22, 33, 44, 55}

(gdb) print numbers_vector.size()
# –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥
$6 = 5

(gdb) print numbers_array
# –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥
$7 = {11, 22, 33, 44, 55}
```

```
GDB –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–¥—Ä–µ—Å, –∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–µ–∫—Ç–æ—Ä–∞ —Å –µ–≥–æ length –∏ capacity. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è 'pretty printing'.
```

**–®–∞–≥ 3: –ü–æ—à–∞–≥–æ–≤–∞—è –æ—Ç–ª–∞–¥–∫–∞ —Ü–∏–∫–ª–∞**
```bash
# —Å—Ç–∞–≤–∏–º breakpoint –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ—á–∫—É –≤ —Ü–∏–∫–ª–µ
(gdb) break task1.cpp:19
Breakpoint 1 at 0x4011a8: file task3_1.cpp, line 19.

# –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É
(gdb) run
(gdb) print i
$4 = 0

(gdb) continue  # –ü—Ä–æ—Ö–æ–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
(gdb) print i
$5 = 1

# –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–æ –ø—Ä–æ–±–ª–µ–º–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
(gdb) continue
(gdb) continue
(gdb) continue
(gdb) continue
(gdb) print i
$6 = 4  # –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–∞–ª–∏–¥–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
# –ú–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ–∫—Ç–æ—Ä–∞ –∏ –º–∞—Å—Å–∏–≤–∞
# (gdb) print numbers_array[i]
# (gdb) print numbers_vector[i]

(gdb) continue
(gdb) print i
$7 = 5  # –ü—Ä–æ–±–ª–µ–º–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è!
```

**–®–∞–≥ 4: –£—Å–ª–æ–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏**
```bash
(gdb) break task3_1.cpp:18
(gdb) run

# —Å—Ç–∞–≤–∏–º breakpoint –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ—á–∫—É –≤ —Ü–∏–∫–ª–µ –µ—Å–ª–∏ i>4
(gdb) break task3_1.cpp:19 if i>4
(gdb) info breakpoints
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000555555555457 in main() 
                                                   at task3_1.cpp:18
        breakpoint already hit 1 time
2       breakpoint     keep y   0x0000555555555463 in main() 
                                                   at task3_1.cpp:19
        stop only if i>4

# –∑–∞–¥–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
# –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –Ω–∞ breakpoint 2 –≤—ã–≤–µ–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∑–∞—Ç–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
(gdb) commands 2
>print i
>print numbers_array[i]
>print numbers_vector[i]
>print numbers_vector.size()
>continue
>end

# –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É
(gdb) continue

# –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥
Continuing.
[0]     11      11
[1]     22      22
[2]     33      33
[3]     44      44
[4]     55      55

Breakpoint 2, main () at task3_1.cpp:19
19              std::cout << "[" << i << "]" << 
$2 = 5
$3 = 32767
$4 = 0
$5 = 5
```

**üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```cpp
// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
for (int i = 0; i < vector_len; i++) {  // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: <
```

---

### 3.2 –û—Ç–ª–∞–¥–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

#### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: 
–û—Ç–ª–∞–¥–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏. –ö–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ``task3_2.cpp``

**–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**
```bash
$ gdb ./task3_2
(gdb) catch throw
Catchpoint 1 (throw)

(gdb) catch catch
Catchpoint 2 (catch)
# –≤—ã–≤–µ—Å—Ç–∏ –∏–Ω—Ñ–æ –æ catchpoints –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ –∏ –¥–ª—è —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞
(gdb) info break #–∫–æ—Ä–æ—Ç–∫–∞—è –∫–æ–º–∞–Ω–¥–∞
Num     Type           Disp Enb Address            What
1       catchpoint     keep y                      exception throw
2       catchpoint     keep y                      exception catch
#(gdb) info breakpoints
#Num     Type           Disp Enb Address            What
#1       catchpoint     keep y                      exception throw
#2       catchpoint     keep y                      exception catch
```

```
catch throw - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ GDB, –∫–æ—Ç–æ—Ä–∞—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–±—Ä–æ—Å–∞ –ª—é–±–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞—Å–∫—Ä—É—Ç–∫–∏ —Å—Ç–µ–∫–∞ (stack unwinding).

catch catch - –∫–æ–º–∞–Ω–¥–∞ GDB, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–≤–∏—Ç —Ç–æ—á–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞—Ö–≤–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ try-catch.
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–æ–∫ catch, —Ç–æ –µ—Å—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤—ã–±—Ä–æ—Å–∞ –∏ –Ω–∞ —ç—Ç–∞–ø–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ.
```

**–®–∞–≥ 2: –û—Ç–ª–æ–≤ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (division by zero)**
```bash
(gdb) run

# –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
Creating resource of size 500
Processing resource...

# GDB –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:
Catchpoint 1 (exception thrown), 0x... in __cxa_throw ()

(gdb) bt
```

```
–ê–Ω–∞–ª–∏–∑ stack trace: 
__cxa_throw - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è C++ runtime.
–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: main ‚Üí dangerous_function ‚Üí Resource::replace_data ‚Üí throw
```

**–®–∞–≥ 3: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞**
```bash
(gdb) up 5  # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ dangerous_function
(gdb) print res
$1 = (Resource *) 0x555555756280
(gdb) print *res
$2 = {data = 0x555555756290, size = 500}
(gdb) print res->data[0]
$3 = 0
(gdb) print res->data[1] 
$4 = 2
```

```
–û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω (data != nullptr), –Ω–æ –ø–æ—Å–ª–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º—ã –¥–µ–ª–∞–µ–º return –±–µ–∑ delete res. –≠—Ç–æ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏! –í C++ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ -- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏".
```

**–®–∞–≥ 4: –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –¥–æ –≤—Ç–æ—Ä–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è**
```bash
(gdb) continue
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ catch –±–ª–æ–∫–µ
Catchpoint 2 (exception caught), 0x... in __cxa_begin_catch ()

(gdb) continue
# –í—ã–≤–æ–¥:
Exception caught: stoi
Creating resource of size 2000

# –°–Ω–æ–≤–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏:
Catchpoint 1 (exception thrown), 0x... in __cxa_throw ()

(gdb) bt
#0  0x... in __cxa_throw ()  
#1  0x... in Resource::Resource(size_t) at task3_2.cpp:20
#2  0x... in main() at task3_2.cpp:52

(gdb) continue
# –°–Ω–æ–≤–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ catch –±–ª–æ–∫–µ
Catchpoint 2 (exception caught), 0x... in __cxa_begin_catch ()
(gdb) continue
Main caught: Resource too large!
```

```
–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç  –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è '–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω–Ω—ã–º'. –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –ù–ï –í–´–ó–û–í–ï–¢–°–Ø! –ù–æ –ø–∞–º—è—Ç—å —É–∂–µ –≤—ã–¥–µ–ª–µ–Ω–∞ - —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É—Ç–µ—á–∫–∞.
```

#### üîß –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
–ò—Å–ø—Ä–∞–≤–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –≤ –∫–æ–¥–µ ``task3_2.cpp``, –∑–∞–º–µ–Ω–∏–≤ "—Å—ã—Ä—ã–µ" —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ `std::unique_ptr`

---

### 3.3 –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

#### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 1: 
–û—Ç–ª–∞–¥–∫–∞ –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö (race condition). –ö–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ``task3_3_races.cpp``

**–®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**
```bash
$ gdb ./task3
(gdb) run

# –í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è):
Thread 0 starting...
Thread 1 starting...
Thread 2 starting...
Thread 3 starting...
Thread 1 finished
Thread 0 finished
Thread 3 finished
Thread 2 finished
Final count: 3847  # –ú–µ–Ω—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ 4000!
Expected: 4000
```

```
–ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–∏—Ç—å 1000, –∏—Ç–æ–≥–æ 4000. –ù–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–µ–Ω—å—à–µ.
–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π race condition - –æ–ø–µ—Ä–∞—Ü–∏—è count++ –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω–∞!
```

**–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
```bash
(gdb) break task3_3_races.cpp:39
(gdb) run

(gdb) info threads
# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –¥–ª—è 4 –ø–æ—Ç–æ–∫–æ–≤
  Id   Target Id         Frame
* 1    Thread 0x7ffff7fc0740 (LWP 12345) "task3" main () at task3_3_races.cpp:35
  2    Thread 0x7ffff77bf700 (LWP 12346) "task3" worker () at task3_3_races.cpp:18  
  3    Thread 0x7ffff6fbe700 (LWP 12347) "task3" Counter::increment() at task3_3_races.cpp:12
  4    Thread 0x7ffff67bd700 (LWP 12348) "task3" Counter::increment() at task3_3_races.cpp:12
  5    Thread 0x7ffff5fbc700 (LWP 12349) "task3" worker () at task3_3_races.cpp:19
```

```
"* - —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫ (main)
LWP - Linux Lightweight Process ID
Frame - –≥–¥–µ —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫

–ó–¥–µ—Å—å –ø–æ—Ç–æ–∫–∏ 3 –∏ 4 –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ Counter::increment() - 
–æ–Ω–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç count!"
```

**–®–∞–≥ 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏**
```bash
(gdb) thread 3
[Switching to thread 3 (Thread 0x7ffff6fbe700 (LWP 12347))]

(gdb) print count
$1 = 2847

(gdb) print i
$2 = 654  # –¢–µ–∫—É—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –≤ —ç—Ç–æ–º –ø–æ—Ç–æ–∫–µ

(gdb) thread 4
[Switching to thread 4 (Thread 0x7ffff67bd700 (LWP 12348))]

(gdb) print count  
$3 = 2851  # –î—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!

(gdb) print i
$4 = 723
```

```
–ù–∞–±–ª—é–¥–∞–µ–º —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è count —Ä–∞–∑–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö.
–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —á–∏—Ç–∞—é—Ç-–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç-–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç
–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
```

**–®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**
```bash
(gdb) thread apply all bt

Thread 5 (Thread 0x7ffff5fbc700 (LWP 12349)):
#0  worker () at task3_3_races.cpp:19
#1  ...

Thread 4 (Thread 0x7ffff67bd700 (LWP 12348)):  
#0  Counter::increment() at task3_3_races.cpp:12
#1  worker () at task2.cpp:18
#2  ...

Thread 3 (Thread 0x7ffff6fbe700 (LWP 12347)):
#0  Counter::increment() at task3_3_races.cpp:12  
#1  worker () at task3_3_races.cpp:18
#2  ...
```

#### üîß –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
–ò—Å–∫–ª—é—á–∏—Ç—å –≥–æ–Ω–∫—É –¥–∞–Ω–Ω—ã–π –≤ –∫–æ–¥–µ ``task3_3_races.cpp``, –¥–æ–±–∞–≤–∏–≤ –ø—Ä–∏–º–∏—Ç–∏–≤—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ``std::mutex`` –∏ ``std::lock_guard``

#### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ 2: 
–û—Ç–ª–∞–¥–∫–∞ –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (deadlock). –ö–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ ``task3_3_deadlock.cpp``


**–®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —Å timeout (–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–Ω–µ—Ç)**
```bash
$ timeout 10s gdb ./task4
(gdb) run &

# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞—á–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∏ "–∑–∞–≤–∏—Å–Ω–µ—Ç"
Account 1 transferring 50 to account 2
Account 2 transferring 30 to account 1
# ... —Ç–∏—à–∏–Ω–∞
```

**–®–∞–≥ 2: –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑**
```bash
# –ù–∞–∂–∏–º–∞–µ–º Ctrl+C –≤ GDB
^C
Program received signal SIGINT, Interrupt.

(gdb) info threads
  Id   Target Id         Frame
* 1    Thread 0x7ffff7fc0740 (LWP 12345) "task4" main () at task4.cpp:48
  2    Thread 0x7ffff77bf700 (LWP 12346) "task4" 0x... in __lll_lock_wait ()
  3    Thread 0x7ffff6fbe700 (LWP 12347) "task4" 0x... in __lll_lock_wait ()
```


```
–ü—Ä–∏–∑–Ω–∞–∫–∏ deadlock:
–ü–æ—Ç–æ–∫–∏ 2 –∏ 3 –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ __lll_lock_wait()/futex_wait(...) - –æ–Ω–∏ –∂–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º—å—é—Ç–µ–∫—Å–æ–≤.
–≠—Ç–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–∑–Ω–∞–∫ deadlock!
```

**–®–∞–≥ 3: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞**
```bash
(gdb) thread 2
[Switching to thread 2 (Thread 0x7ffff77bf700 (LWP 12346))]

(gdb) bt
#0  __lll_lock_wait () at lowlevellock.S:135
#1  0x... in std::mutex::lock()
#2  0x... in std::lock_guard<std::mutex>::lock_guard()
#3  0x... in BankAccount::transfer_to() at task4.cpp:22  
#4  0x... in transfer_worker() at task4.cpp:41

(gdb) up 7  # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ transfer_to
(gdb) print this->id
$1 = 1  # –ê–∫–∫–∞—É–Ω—Ç 1 –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏

(gdb) print &other  
$2 = (BankAccount *) 0x7fffffffe050

(gdb) thread 3
(gdb) bt
#0  __lll_lock_wait () at lowlevellock.S:135
#1  0x... in std::mutex::lock()
#2  0x... in std::lock_guard<std::mutex>::lock_guard() 
#3  0x... in BankAccount::transfer_to() at task4.cpp:22
#4  0x... in transfer_worker() at task4.cpp:41

(gdb) up 7
(gdb) print this->id
$3 = 2  # –ê–∫–∫–∞—É–Ω—Ç 2 –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏

(gdb) print &other
$4 = (BankAccount *) 0x7fffffffe040
```

```
–ê–Ω–∞–ª–∏–∑ –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
–ü–æ—Ç–æ–∫ 1: –¥–µ—Ä–∂–∏—Ç mutex –∞–∫–∫–∞—É–Ω—Ç–∞ 1, –∂–¥–µ—Ç mutex –∞–∫–∫–∞—É–Ω—Ç–∞ 2
–ü–æ—Ç–æ–∫ 2: –¥–µ—Ä–∂–∏—Ç mutex –∞–∫–∫–∞—É–Ω—Ç–∞ 2, –∂–¥–µ—Ç mutex –∞–∫–∫–∞—É–Ω—Ç–∞ 1
–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–∑–∞–∏–º–Ω—ã–π deadlock!
```


#### üîß –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
–ò—Å–∫–ª—é—á–∏—Ç—å –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫—É``task3_3_deadlock.cpp``, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –º—å—é—Ç–µ–∫—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é  ``std::lock()`` –∏–ª–∏ ``std::scoped_lock()``

---

<!-- 
### **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

**–°–æ–∑–¥–∞–Ω–∏–µ –º–∞–∫—Ä–æ—Å–æ–≤ –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏:**
```bash
(gdb) define threads-info
> info threads
> thread apply all bt
> end

(gdb) threads-info
# –¢–µ–ø–µ—Ä—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –ø–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
```

**–ü–æ–ª–µ–∑–Ω—ã–µ conditional breakpoints:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏
(gdb) break task2.cpp:12 if count > 3000

# –î–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ—Ç–æ–∫–µ
(gdb) break BankAccount::transfer_to if id == 1
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .gdbinit –¥–ª—è C++:**
```bash
# ~/.gdbinit
set print pretty on
set print array on  
set print object on
set confirm off

# –ú–∞–∫—Ä–æ—Å—ã –¥–ª—è C++ –æ—Ç–ª–∞–¥–∫–∏
define print-stl-string
  printf "%s\n", $arg0.c_str()
end

define print-vector-info
  printf "size=%d, capacity=%d\n", $arg0.size(), $arg0.capacity()
end
```
---
 -->

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞

### **–í—ã—è–≤–ª–µ–Ω—ã –∏ —Ä–µ—à–µ–Ω–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:**

1. **Buffer overflow –≤ std::vector** ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ —Ü–∏–∫–ª–∞
2. **Memory leak –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö** ‚Üí –∑–∞–º–µ–Ω—ë–Ω raw pointer –Ω–∞ `std::unique_ptr`
3. **Race condition** ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω `std::mutex` —Å `std::lock_guard`  
4. **Deadlock** ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `std::lock()` –∏–ª–∏ `std::scoped_lock()` –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

<!-- ### **–û—Å–≤–æ–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:**
- **STL debugging:** `print vector.size()`, pretty printing
- **Exception debugging:** `catch throw/catch`, –∞–Ω–∞–ª–∏–∑ stack unwinding
- **Multithreading:** `info threads`, `thread apply all bt`
- **Deadlock detection:** –∞–Ω–∞–ª–∏–∑ `__lll_lock_wait()` —Å–æ—Å—Ç–æ—è–Ω–∏–π -->

---
